{"version":3,"sources":["Solutions/01-GettingStarted/es6scripts/script.js"],"names":["allProducts","document","addEventListener","getElementById","doAdd","sort","displayProducts","reverse","doSearch","description","value","email","priceStr","price","parseFloat","toFixed","salesStr","sales","parseInt","product","toUpperCase","big","bold","fontcolor","ts","Date","tsStr","getDate","getMonth","getFullYear","pad","getHours","getMinutes","getSeconds","push","products","targetElement","str","i","innerHTML","searchString","re","RegExp","matchingProducts","curr","test","n"],"mappings":"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","sourcesContent":["const allProducts = [];\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  document.getElementById(\"add\").addEventListener(\"click\", doAdd);\r\n\r\n  document.getElementById(\"sort\").addEventListener(\"click\", () => {\r\n    allProducts.sort();\r\n    displayProducts(allProducts);\r\n  });\r\n\r\n  document.getElementById(\"reverse\").addEventListener(\"click\", () => {\r\n    allProducts.reverse();\r\n    displayProducts(allProducts);\r\n  });\r\n\r\n  document.getElementById(\"search\").addEventListener(\"click\", doSearch);\r\n});\r\n\r\nfunction doAdd() {\r\n  // Get the product suggestion (text).\r\n  const description = document.getElementById(\"description\").value;\r\n\r\n  // Get the user's email address (text).\r\n  const email = document.getElementById(\"email\").value;\r\n\r\n  // Get the recommended price (float).\r\n  const priceStr = document.getElementById(\"price\").value;\r\n  const price = parseFloat(priceStr).toFixed(2);\r\n\r\n  // Get the estimated sales/year (int).\r\n  const salesStr = document.getElementById(\"sales\").value;\r\n  const sales = parseInt(salesStr);\r\n\r\n  // Build a formatted string for this product suggestion.\r\n  let product =\r\n    description.toUpperCase().big().bold().fontcolor(\"orange\") +\r\n    `<br/>\r\n                                Suggested by ${email}<br/>\r\n                                Â£${price} [projected sales ${sales}]<br/>`;\r\n\r\n  // Append the current date/time to the product string.\r\n  const ts = new Date();\r\n  const tsStr = `${ts.getDate()}/${ts.getMonth() + 1}/${ts.getFullYear()},    \r\n                   ${pad(ts.getHours())}:${pad(ts.getMinutes())}:${pad(\r\n    ts.getSeconds()\r\n  )}`;\r\n  product += tsStr.fontcolor(\"blue\");\r\n\r\n  // Add this product to the global array of all products.\r\n  allProducts.push(product);\r\n\r\n  // Redisplay all the products.\r\n  displayProducts(allProducts);\r\n}\r\n\r\nfunction displayProducts(products, targetElement = \"allProductsList\") {\r\n  let str = \"<ul>\";\r\n  for (var i in products) {\r\n    str += `<li>${products[i]}</li>`;\r\n  }\r\n  str += \"</ul>\";\r\n\r\n  document.getElementById(targetElement).innerHTML = str;\r\n}\r\n\r\nfunction doSearch() {\r\n  // Create a RegExp object, based on the search string entered by the user.\r\n  const searchString = document.getElementById(\"searchString\").value;\r\n  const re = new RegExp(searchString, \"i\");\r\n\r\n  // Create an array that contains all the products that match the search string.\r\n  const matchingProducts = [];\r\n  for (let i in allProducts) {\r\n    // Get the next product from the global array.\r\n    const curr = allProducts[i];\r\n\r\n    // If it matches the search string, add it into the array of matches.\r\n    if (re.test(curr)) {\r\n      matchingProducts.push(curr);\r\n    }\r\n  }\r\n\r\n  // Display the array of matching product suggestions.\r\n  displayProducts(matchingProducts, \"matchingProductsList\");\r\n}\r\n\r\nfunction pad(n) {\r\n  return n < 10 ? `0${n}` : n;\r\n}\r\n"],"file":"script.js"}